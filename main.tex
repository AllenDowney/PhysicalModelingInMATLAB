% LaTeX source for textbook ``Physical Modeling in MATLAB''
% Copyright 2012, 2019 Allen B. Downey
%

% Use the No Starch Press document class
%\documentclass[cfonts]{nostarch}

\documentclass{book}

\usepackage{amsmath, amsthm, amssymb}
\usepackage{exercise}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{makeidx}
\usepackage{textcomp}
\usepackage{upquote}
\usepackage{url}
\usepackage{subfiles}

\usepackage{minitoc}
\setcounter{minitocdepth}{3} 
\setcounter{parttocdepth}{3}

\newcommand{\myreg}{\textsuperscript{{\tiny \textregistered}}}

\newenvironment{ex}{\begin{Exercise}}{\end{Exercise}}

% from https://tex.stackexchange.com/questions/188775/how-to-type-a-particular-kind-of-unit-vector
\usepackage{bm}
\renewcommand{\vec}[1]{\bm{\mathbf{#1}}}
\newcommand{\uveci}{{\bm{\hat{\textnormal{\bfseries\i}}}}}
\newcommand{\uvecj}{{\bm{\hat{\textnormal{\bfseries\j}}}}}
\DeclareRobustCommand{\uvec}[1]{{%
  \ifcsname uvec#1\endcsname
     \csname uvec#1\endcsname
   \else
    \bm{\hat{\mathbf{#1}}}%
   \fi
}}



\sloppy

\setlength{\headsep}{3ex}
\setlength{\parindent}{0.0in}
\setlength{\parskip}{1.7ex plus 0.5ex minus 0.5ex}
\renewcommand{\baselinestretch}{1.02}

% see LaTeX Companion page 62
\setlength{\topsep}{-0.0\parskip}
\setlength{\partopsep}{-0.5\parskip}
\setlength{\itemindent}{0.0in}
\setlength{\listparindent}{0.0in}

\pagestyle{fancyplain}

\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}{}}

\lhead[\fancyplain{}{\bfseries\thepage}]%
      {\fancyplain{}{\bfseries\rightmark}}
\rhead[\fancyplain{}{\bfseries\leftmark}]%
      {\fancyplain{}{\bfseries\thepage}}
\cfoot{}

\usepackage{xcolor}
\definecolor{bgcolor}{HTML}{F0F0F0}
\definecolor{comment}{HTML}{007C00}
\definecolor{keyword}{HTML}{0000FF}
\definecolor{strings}{HTML}{B20000}

\usepackage{listings}
\lstset{
    language=matlab,
    basicstyle=\ttfamily,
    backgroundcolor=\color{bgcolor},
    commentstyle=\color{comment},
    keywordstyle=\color{keyword},
    stringstyle=\color{strings},
    columns=fullflexible,
    emph={label},  % keyword?
    keepspaces=true,
    showstringspaces=false,
    upquote=true,
    xleftmargin=0pt,  % \parindent
    framexleftmargin=3pt,
    aboveskip=\parskip,
    belowskip=\parskip
}

\lstnewenvironment{code}{}{}
\lstnewenvironment{stdout}{\lstset{commentstyle=,keywordstyle=,stringstyle=}}{}

% inline syntax formatting
\newcommand{\mcode}[1]{\lstinline{#1}}%{

% to get siunitx
% sudo apt-get install texlive-science
\usepackage{siunitx}
\sisetup{per-mode=symbol}

\makeindex

\begin{document}

\frontmatter

\newcommand{\thetitle}{Physical Modeling in MATLAB\myreg}
\newcommand{\theversion}{3.0.0}

\title {\thetitle}
\author {Allen B. Downey}
\date {Version \theversion}


\maketitle

\vspace{2in}

\begin{center}
{\Large \thetitle}

\vspace{0.25in}

Copyright 2012, 2019 Allen B. Downey
\end{center}

\vspace{0.25in}

\begin{flushleft}
Green Tea Press       \\
9 Washburn Ave \\
Needham MA 02492
\end{flushleft}

Permission is granted to copy, distribute, and/or modify this document
under the terms of the Creative Commons Attribution-NonCommercial 4.0 Unported License, which is available at \url{http://creativecommons.org/licenses/by-nc/4.0/}.

This book was typeset by the author using pdflatex,
among other free, open-source programs.
The LaTeX source for this book is available from
\url{http://greenteapress.com/matlab}.

%TODO: check this URL

MATLAB\myreg is a registered trademark of The
Mathworks, Inc.  The Mathworks does not warrant the accuracy
of this book.

\include{chap00}
%\pdfbookmark[chapter]{\contentsname}{toc}

% This lets us do mini ToCs at the start of the chapter.
\dominitoc
\dominilof
\dominilot
\tableofcontents
\adjustmtc{}

\mainmatter


\include{chap01}

\include{chap02}

\include{chap03}

\include{chap04}

\include{chap05}

\include{chap06}

\include{chap07}

\include{chap08}

\include{chap09}

\include{chap10}

\include{chap11}

\include{chap12}

\include{chap13}

\include{chap14}

\printindex

\end{document}

